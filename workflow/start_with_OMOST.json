{
  "last_node_id": 68,
  "last_link_id": 67,
  "nodes": [
    {
      "id": 56,
      "type": "VAEDecode",
      "pos": [
        2873.239392250689,
        301.5725193208629
      ],
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 44,
          "label": "samples"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 45,
          "label": "vae"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            46
          ],
          "shape": 3,
          "label": "IMAGE",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      }
    },
    {
      "id": 54,
      "type": "KSampler",
      "pos": [
        2421,
        285
      ],
      "size": {
        "0": 315,
        "1": 262
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 42,
          "label": "model"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 67,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 43,
          "label": "negative",
          "slot_index": 2
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 50,
          "label": "latent_image",
          "slot_index": 3
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            44
          ],
          "shape": 3,
          "label": "LATENT",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        40041744403304,
        "randomize",
        20,
        8,
        "euler",
        "normal",
        1
      ]
    },
    {
      "id": 61,
      "type": "LLM_local_loader",
      "pos": [
        527,
        506
      ],
      "size": {
        "0": 315,
        "1": 174
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "model",
          "type": "CUSTOM",
          "links": [
            52
          ],
          "shape": 3,
          "label": "model",
          "slot_index": 0
        },
        {
          "name": "tokenizer",
          "type": "CUSTOM",
          "links": [
            53
          ],
          "shape": 3,
          "label": "tokenizer",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LLM_local_loader"
      },
      "widgets_values": [
        "llama",
        "D:\\AI\\mychat\\model\\omost\\",
        "D:\\AI\\mychat\\model\\omost\\",
        "auto",
        "float32"
      ]
    },
    {
      "id": 63,
      "type": "load_persona",
      "pos": [
        530,
        743
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "name": "file_content",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "file_content"
          },
          "label": "file_content"
        }
      ],
      "outputs": [
        {
          "name": "system_prompt",
          "type": "STRING",
          "links": [
            54
          ],
          "shape": 3,
          "label": "system_prompt",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "load_persona"
      },
      "widgets_values": [
        "omost",
        true,
        ""
      ]
    },
    {
      "id": 55,
      "type": "CLIPTextEncode",
      "pos": [
        1628,
        628
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 47,
          "label": "clip"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            43
          ],
          "shape": 3,
          "label": "CONDITIONING"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "NSFW,(text), animal ears, (logo), (watermark), ((big hands, un-detailed skin, sketch, cartoon, drawing)), ((ugly mouth, ugly eyes, missing teeth, crooked teeth, cropped, out of frame)), worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, extra fingers, mutated hands, poorly drawn hands, poorly drawn face, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, cloned face, disfigured, gross proportions, malformed limbs, missing arms, missing legs, extra arms, extra legs, fused fingers, too many fingers, long neck,(more than two arm per body:1.5), (more than two leg per body:1.5), (more than five fingers on one hand:1.5), multi arms, multi legs, bad arm anatomy, bad leg anatomy, bad hand anatomy, bad finger anatomy, bad detailed background, unclear architectural outline, non-linear background, elf-ears, hair crosses the screen border, obesity, fat, lowres, worst quality, low quality, blurry, mutated hands and fingers, disfigured, fused, cloned, duplicate, artist name, giantess, odd eyes, long fingers, long neck, handrail,paintings, sketches, (worst quality:2), (low quality:2), (normal quality:2), lowres, normal quality, ((monochrome)), ((grayscale)), skin spots, acnes, skin blemishes, age spot, bad eyes, asymmetric eyes, tattoo,"
      ]
    },
    {
      "id": 60,
      "type": "EmptyLatentImage",
      "pos": [
        1696,
        897
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            50
          ],
          "shape": 3,
          "label": "LATENT"
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        512,
        512,
        1
      ]
    },
    {
      "id": 57,
      "type": "PreviewImage",
      "pos": [
        3228,
        304
      ],
      "size": {
        "0": 210,
        "1": 246
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 46,
          "label": "images"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 51,
      "type": "CheckpointLoaderSimple",
      "pos": [
        1027,
        344
      ],
      "size": {
        "0": 315,
        "1": 98
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            42
          ],
          "shape": 3,
          "label": "MODEL",
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            47,
            65
          ],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            45
          ],
          "shape": 3,
          "label": "VAE",
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "OldFish_236151438.safetensors"
      ]
    },
    {
      "id": 62,
      "type": "LLM_local",
      "pos": [
        950,
        506
      ],
      "size": {
        "0": 445.62530517578125,
        "1": 392.92010498046875
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "CUSTOM",
          "link": 52,
          "label": "model"
        },
        {
          "name": "tokenizer",
          "type": "CUSTOM",
          "link": 53,
          "label": "tokenizer"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": null,
          "label": "image"
        },
        {
          "name": "system_prompt_input",
          "type": "STRING",
          "link": 54,
          "widget": {
            "name": "system_prompt_input"
          },
          "label": "system_prompt_input"
        },
        {
          "name": "tools",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "tools"
          },
          "label": "tools"
        },
        {
          "name": "file_content",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "file_content"
          },
          "label": "file_content"
        }
      ],
      "outputs": [
        {
          "name": "assistant_response",
          "type": "STRING",
          "links": [
            63,
            66
          ],
          "shape": 3,
          "label": "assistant_response",
          "slot_index": 0
        },
        {
          "name": "history",
          "type": "STRING",
          "links": null,
          "shape": 3,
          "label": "history"
        },
        {
          "name": "tool",
          "type": "STRING",
          "links": null,
          "shape": 3,
          "label": "tool"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "links": null,
          "shape": 3,
          "label": "image"
        }
      ],
      "properties": {
        "Node name for S&R": "LLM_local"
      },
      "widgets_values": [
        "",
        "请画一个戴着红色帽子的美女，眼睛是蓝色的，头发是白色的",
        "llama",
        0.7,
        2048,
        "disable",
        "disable",
        "enable",
        "",
        "",
        ""
      ]
    },
    {
      "id": 67,
      "type": "show_text_party",
      "pos": [
        1541,
        1162
      ],
      "size": [
        421.1827473133153,
        646.0502533738027
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 63,
          "widget": {
            "name": "text"
          },
          "label": "text"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": null,
          "shape": 6,
          "label": "STRING"
        }
      ],
      "properties": {
        "Node name for S&R": "show_text_party"
      },
      "widgets_values": [
        "",
        "```python\n# Initialize the canvas\ncanvas = Canvas()\n\n# Set a global description for the canvas\ncanvas.set_global_description(\n    description='A beautiful woman wearing a red hat with blue eyes and white hair.',\n    detailed_descriptions=[\n        'The image features a stunning woman who is the focal point of the composition.',\n        'She is wearing a vibrant red hat that stands out against her white hair.',\n        'Her blue eyes are strikingly beautiful, adding a sense of depth and intrigue to her gaze.',\n        'The background is subtle, ensuring that the focus remains on the woman and her striking appearance.',\n        'The overall atmosphere of the image is one of elegance and mystery, with the red hat adding a pop of color and the blue eyes providing a captivating focal point.',\n    ],\n    tags='beautiful woman, red hat, blue eyes, white hair, striking appearance, vibrant colors, elegant, mysterious, captivating, focal point, subtle background, depth, intrigue, pop of color, stunning, eye-catching, fashion, portrait, stylish, chic, captivating gaze, attention to detail',\n    HTML_web_color_name='lightcoral',\n)\n\n# Add the woman's face with blue eyes and white hair\ncanvas.add_local_description(\n    location='in the center',\n    offset='no offset',\n    area='a medium-sized square area',\n    distance_to_viewer=1.0,\n    description=\"The woman's face with blue eyes and white hair\",\n    detailed_descriptions=[\n        \"The woman's face is the central focus of the image.\",\n        'Her blue eyes are mesmerizing, drawing the viewer in with their depth and clarity.',\n        'Her white hair is styled elegantly, framing her face perfectly.',\n        'The red hat she wears adds a vibrant splash of color, making her stand out even more.',\n        'The lighting is soft, highlighting her facial features and adding a gentle glow to her skin.',\n        'The overall effect is one of beauty and sophistication, with each element working together to create a harmonious and captivating portrait.',\n    ],\n    tags='woman, blue eyes, white hair, red hat, central focus, mesmerizing, depth, clarity, elegant hairstyle, vibrant color, standout, soft lighting, facial features, gentle glow, beauty, sophistication, harmonious, captivating, portrait, stunning, detailed',\n    atmosphere='The atmosphere is one of elegance and sophistication.',\n    style='The style is a blend of portrait photography with a focus on beauty and detail.',\n    quality_meta='The image is of high quality, with detailed and clear features.',\n    HTML_web_color_name='lightcoral',\n)\n\n# Add the red hat\ncanvas.add_local_description(\n    location='on the top',\n    offset='slightly to the left',\n    area='a small square area',\n    distance_to_viewer=1.5,\n    description='The red hat',\n    detailed_descriptions=[\n        'The red hat is a striking accessory that adds a vibrant touch to the overall image.',\n        'It is made of high-quality fabric, with a smooth texture and a slight sheen that catches the light.',\n        'The hat is positioned slightly to the left, allowing it to frame the woman’s face without overpowering it.',\n        'The red color is rich and deep, creating a beautiful contrast against her white hair and blue eyes.',\n        'The hat’s design is simple yet elegant, with a classic style that enhances the woman’s sophisticated appearance.',\n    ],\n    tags='red hat, striking accessory, vibrant touch, high-quality fabric, smooth texture, slight sheen, catches light, positioned left, frames face, rich color, deep red, beautiful contrast, white hair, blue eyes, simple design, elegant, classic style, sophisticated appearance',\n    atmosphere='The atmosphere is vibrant and stylish.',\n    style='The style is classic and elegant, with a focus on simplicity and quality.',\n    quality_meta='The hat is depicted with high detail, showcasing its texture and color.',\n    HTML_web_color_name='crimson',\n)\n\n# Add the woman's white hair\ncanvas.add_local_description(\n    location='on the right',\n    offset='slightly to the upper-left',\n    area='a small vertical area',\n    distance_to_viewer=1.2,\n    description=\"The woman's white hair\",\n    detailed_descriptions=[\n        'The woman’s white hair is styled elegantly, cascading down her shoulders in soft waves.',\n        'The hair has a silky texture, with each strand catching the light in a way that highlights its natural shine.',\n        'The white color of her hair contrasts beautifully with the red hat and her blue eyes, creating a harmonious and visually appealing composition.',\n        'The styling is simple yet effective, with a focus on natural beauty and sophistication.',\n        'The hair frames her face perfectly, adding to the overall elegance of the image.',\n    ],\n    tags='white hair, styled elegantly, cascading, soft waves, silky texture, catching light, natural shine, white color, contrast, red hat, blue eyes, harmonious, visually appealing, simple styling, natural beauty, sophistication, frames face, overall elegance',\n    atmosphere='The atmosphere is one of natural beauty and sophistication.',\n    style='The style is elegant and simple, with a focus on natural beauty.',\n    quality_meta='The hair is depicted with high detail, showing its texture and shine.',\n    HTML_web_color_name='white',\n)\n\n# Add the woman's blue eyes\ncanvas.add_local_description(\n    location='on the left',\n    offset='slightly to the lower-right',\n    area='a small vertical area',\n    distance_to_viewer=1.3,\n    description=\"The woman's blue eyes\",\n    detailed_descriptions=[\n        'The woman’s blue eyes are a striking feature that captures the viewer’s attention.',\n        'They are deep and clear, with a natural sparkle that adds to their allure.',\n        'The blue color is rich and vibrant, contrasting beautifully with her white hair and red hat.',\n        'The eyes are framed by long, dark lashes and subtle makeup that enhances their natural beauty without overpowering it.',\n        'The lighting is soft, highlighting the depth and clarity of her eyes, making them a focal point of the image.',\n    ],\n    tags='blue eyes, striking feature, captures attention, deep, clear, natural sparkle, allure, rich color, vibrant, beautiful contrast, white hair, red hat, framed, long lashes, subtle makeup, enhances beauty, soft lighting, depth, clarity, focal point',\n    atmosphere='The atmosphere is captivating and alluring.',\n    style='The style is focused on natural beauty with subtle enhancements.',\n    quality_meta='The eyes are depicted with high detail, showcasing their clarity and color.',\n    HTML_web_color_name='skyblue',\n)\n\n# Add the subtle background\ncanvas.add_local_description(\n    location='on the bottom',\n    offset='slightly to the upper-left',\n    area='a small horizontal area',\n    distance_to_viewer=1.5,\n    description='The subtle background',\n    detailed_descriptions=[\n        'The background of the image is subtle and unobtrusive, ensuring that the focus remains on the woman and her striking appearance.',\n        'It is a soft gradient that blends seamlessly into the surrounding area, with a slight hint of color that adds depth without distracting from the main subject.',\n        'The lighting is soft and even, providing a gentle illumination that enhances the overall elegance of the image.',\n        'The background is designed to complement the woman’s features, rather than compete with them, creating a harmonious and visually appealing composition.',\n    ],\n    tags='background, subtle, unobtrusive, focus, striking appearance, soft gradient, seamless blend, hint of color, depth, main subject, soft lighting, even lighting, gentle illumination, enhances elegance, complements features, harmonious, visually appealing, composition',\n    atmosphere='The atmosphere is subtle and elegant.',\n    style='The style is minimalist and complementary, enhancing the main subject.',\n    quality_meta='The background is depicted with high detail, showing its subtle nuances.',\n    HTML_web_color_name='lavenderblush',\n)\n```"
      ]
    },
    {
      "id": 68,
      "type": "omost_decode",
      "pos": [
        1640,
        447
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 65,
          "label": "clip"
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 66,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "links": [
            67
          ],
          "shape": 3,
          "label": "conditioning",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "omost_decode"
      },
      "widgets_values": [
        ""
      ]
    }
  ],
  "links": [
    [
      42,
      51,
      0,
      54,
      0,
      "MODEL"
    ],
    [
      43,
      55,
      0,
      54,
      2,
      "CONDITIONING"
    ],
    [
      44,
      54,
      0,
      56,
      0,
      "LATENT"
    ],
    [
      45,
      51,
      2,
      56,
      1,
      "VAE"
    ],
    [
      46,
      56,
      0,
      57,
      0,
      "IMAGE"
    ],
    [
      47,
      51,
      1,
      55,
      0,
      "CLIP"
    ],
    [
      50,
      60,
      0,
      54,
      3,
      "LATENT"
    ],
    [
      52,
      61,
      0,
      62,
      0,
      "CUSTOM"
    ],
    [
      53,
      61,
      1,
      62,
      1,
      "CUSTOM"
    ],
    [
      54,
      63,
      0,
      62,
      3,
      "STRING"
    ],
    [
      63,
      62,
      0,
      67,
      0,
      "STRING"
    ],
    [
      65,
      51,
      1,
      68,
      0,
      "CLIP"
    ],
    [
      66,
      62,
      0,
      68,
      1,
      "STRING"
    ],
    [
      67,
      68,
      0,
      54,
      1,
      "CONDITIONING"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.6209213230591552,
      "offset": {
        "0": -425.65849993272354,
        "1": 63.80722373937394
      }
    }
  },
  "version": 0.4
}